{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block content %}
<div class="orders-page">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <div class="breadcrumbs">
        <a href="{% url 'personal_cabinet' %}" class="breadcrumb-link">
            <img src="{% static 'images/home-smile.png' %}" alt="{% trans '–î–æ–º–æ–π' %}"> {% trans "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç" %}
        </a>
        <span class="breadcrumb-separator">></span>
        <span class="breadcrumb-current">{% trans "–ó–∞–∫–∞–∑—ã" %}</span>
    </div>

    <!-- –ù–∞–∑–∞–¥ –≤ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç -->
    <div class="back-navigation">
        <a href="{% url 'personal_cabinet' %}" class="back-link">
            ‚Üê {% trans "–ù–∞–∑–∞–¥ –≤ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç" %}
        </a>
    </div>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <h1 class="page-title">{% trans "–í–ê–®–ò –ó–ê–ö–ê–ó–´" %}</h1>

    <div class="orders-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="orders-sidebar">
            <ul>
                <li class="{% if current_status == 'all' %}active{% endif %}">
                    <a href="?status=all">{% trans "–í—Å–µ –∑–∞–∫–∞–∑—ã" %}</a>
                </li>
                <li class="{% if current_status == 'active' %}active{% endif %}">
                    <a href="?status=active">{% trans "–ê–∫—Ç–∏–≤–Ω—ã–µ" %}</a>
                </li>
                <li class="{% if current_status == 'frozen' %}active{% endif %}">
                    <a href="?status=frozen">{% trans "–ó–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ" %}</a>
                </li>
                <li class="{% if current_status == 'unpaid' %}active{% endif %}">
                    <a href="?status=unpaid">{% trans "–ù–µ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ" %}</a>
                </li>
                <li class="{% if current_status == 'completed' %}active{% endif %}">
                    <a href="?status=completed">{% trans "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ" %}</a>
                </li>
            </ul>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ -->
        <div class="orders-list">
            {% for order in orders %}
            <div class="order-card">
                <div class="order-header">
                    <span class="order-status">
                        {% if order.status == 'active' %}
                            üü¢ {% trans "–ê–∫—Ç–∏–≤–Ω—ã–π –∑–∞–∫–∞–∑" %}
                        {% elif order.status == 'frozen' %}
                            üü† {% trans "–ó–∞–∫–∞–∑ –∑–∞–º–æ—Ä–æ–∂–µ–Ω" %}
                        {% elif order.status == 'unpaid' %}
                            üî¥ {% trans "–ù–µ –æ–ø–ª–∞—á–µ–Ω" %}
                        {% elif order.status == 'completed' %}
                            ‚ö™ {% trans "–ó–∞–≤–µ—Ä—à–µ–Ω" %}
                        {% endif %}
                    </span>
                </div>
                <div class="order-body">
                    <img src="{% static 'images/order-placeholder.jpg' %}" alt="{% trans '–ó–∞–∫–∞–∑' %}" class="order-image">
                    <div class="order-details">
                        <h3>{% trans "–ü–†–ê–í–ò–õ–¨–ù–û–ï –ü–ò–¢–ê–ù–ò–ï" %}</h3>
                        <p>{% trans "–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞" %}: {{ order.description }}</p>
                        <div class="order-info">
                            <span>üî• {{ order.total_price }} {% trans "—Ä—É–±" %}</span>
                            <span>üìÖ {{ order.duration }} {% trans "–¥–Ω–µ–π" %}</span>
                        </div>
                        <div class="order-actions">
                            <button class="btn orange">{% trans "–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–µ–Ω—é" %}</button>
                            {% if order.status == 'active' %}
                                <button class="btn green">{% trans "–ó–∞–º–µ–Ω–∏—Ç—å –±–ª—é–¥–æ" %}</button>
                                <button class="btn gray">{% trans "–ó–∞–º–æ—Ä–æ–∑–∏—Ç—å" %}</button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>{% trans "–ó–∞–∫–∞–∑—ã —Å —ç—Ç–∏–º —Å—Ç–∞—Ç—É—Å–æ–º –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç." %}</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}